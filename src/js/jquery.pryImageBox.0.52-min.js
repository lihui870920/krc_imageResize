 /*
 *	jQuery Plug-in - Proyectiva : ImageBox v0.52 
 *	14-03-12
 *	https://github.com/karacas/krc_imageResize
 *	Copyright 2012, Karacas / @krc_ale / www.proyectiva.com
 *  Licensed under the MIT
 *	view in action:	http://goo.gl/9XZOv
 */
jQuery(function(a){var b=false;a(window).load(function(){b=true});var c=0;var d=0;a.fn.extend({pryImageBox:function(e){function j(a,b){if(b.hasRun||b.processed)return;b.removeAttr("width");b.removeAttr("height");b.css("width","auto");b.css("height","auto");var c=Math.round(a.width());var d=Math.round(a.height());var f=Math.round(b.width());var j=Math.round(b.height());if(c===0){c=f;a.width(c)}if(d===0){d=j;a.height(d)}if(f!=c||j!=d){var k=new Object;if(e.typeOut){k=h(c,d,f,j)}else{k=g(c,d,f,j)}if(f!=k.x||j!=k.y){b.width(Math.round(k.x));b.height(Math.round(k.y))}i(a,b)}if(e.autoOcult_BackImageWrapper)a.css("background-image","none");var l=b.is(":visible");if(!l){b.stop(true,true).fadeIn(e.animTime);setTimeout(function(){b.css("filter","alpha(opacity=100)");b.css("-moz-opacity","1");b.css("-khtml-opacity","1");b.css("opacity","1")},e.animTime*1.2)}b.processed=true}function i(a,b){var c=Math.round(a.width());var d=Math.round(a.height());var f=Math.round(b.width());var g=Math.round(b.height());if(e.horizontalAling=="CENTER"){b.css("margin-left",Math.round((f-c)/-2))}if(e.horizontalAling=="LEFT"){b.css("margin-left",0)}if(e.horizontalAling=="RIGHT"){b.css("margin-left",-Math.round(f-c))}if(e.verticalAling=="CENTER"){b.css("margin-top",Math.round((g-d)/-2))}if(e.verticalAling=="TOP"){b.css("margin-top",0)}if(e.verticalAling=="BOTTOM"){b.css("margin-top",-Math.round(g-d))}}function h(a,b,c,d){var e=c/d;var f=a/b;var g;var h;if(f<e){h=b;g=h*e}else{g=a;h=g/e}if(f==e){g=a;h=b}var i=new Object;i.x=g;i.y=h;return i}function g(a,b,c,d){var e=c/d;var f=a/b;var g;var h;if(c>=a||d>=b){if(f>e){h=b;g=h*e}else{g=a;h=g/e}if(f==e){g=a;h=b}}else{g=c;h=d}var i=new Object;i.x=g;i.y=h;return i}var f={typeOut:true,animTime:0,reloads:3,autoOcult_BackImageWrapper:true,autoOcult_OnErrorLoad:false,reloadTime4reintent:1e3,delayInit:1,delayInit4Each:0,avoidCache:false,verticalAling:"CENTER",horizontalAling:"CENTER"};var e=a.extend(f,e);return this.each(function(f){function k(a){d++;if(0)alert(d);setTimeout(function(){if(h.hasRun||h.processed)return;if(h.get(0).complete){if(!Boolean(h.width()===0&&h.height()===0)){j(g,h);h.hasRun=true}}if(h.hasRun||h.processed)return;h.bind("load",function(a){if(!Boolean(h.width()===0&&h.height()===0)){j(g,h);h.hasRun=true}}).each(function(){if(this.complete)h.trigger("load")});if(h.hasRun||h.processed)return;if(e.reloads>h.reloads){setTimeout(function(){if(h.hasRun||h.processed)return;k(0);h.reloads++},e.reloadTime4reintent)}else{if(e.autoOcult_OnErrorLoad){g.hide();h.hasRun=true}}},a+1)}var g=a(this);var h=a("img:first",g);if(h==null)return;if(h.processed)return;if(g.css("display")!="block")g.css("display","block");if(g.css("display")!="hidden")g.css("overflow","hidden");h.attr("alt","");if(e.avoidCache){var i=h.attr("src");h.attr("src",i+"?"+Math.random())}h.hasRun=false;h.miid=c;h.reloads=0;h.processed=false;if(b){k(e.delayInit+c*e.delayInit4Each);c++}else{a(window).load(function(){k(e.delayInit+c*e.delayInit4Each);c++})}})}})})(jQuery)